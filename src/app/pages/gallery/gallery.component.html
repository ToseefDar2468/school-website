<section class="space-y-8">
  <header>
    <app-section-header
      title="Gallery"
      subtitle="Browse album highlights from school events and activities."
      [headingLevel]="1"
      titleClass="page-title"
      subtitleClass="page-subtitle"
      containerClass="space-y-2"
    />
  </header>

  <mat-form-field class="w-full md:w-64" appearance="outline">
    <mat-label>Category</mat-label>
    <mat-select [formControl]="categoryControl">
      @if (view$ | async; as vm) {
        @for (category of vm.categories; track category) {
          <mat-option [value]="category">{{ category }}</mat-option>
        }
      }
    </mat-select>
  </mat-form-field>

  @if (view$ | async; as vm) {
    <div class="grid gap-5 md:grid-cols-2 lg:grid-cols-3">
      @for (album of vm.albums; track album.id) {
        <article class="card card-hover overflow-hidden">
          <div class="aspect-[16/9] w-full overflow-hidden rounded-xl bg-surface-2">
            <img class="h-full w-full object-cover" [src]="album.coverImageUrl" [alt]="album.title" />
          </div>
          <div class="mt-4 space-y-2">
            <app-badge [label]="album.category"></app-badge>
            <h3 class="text-lg font-semibold text-text">{{ album.title }}</h3>
            <a class="link text-sm font-semibold" [routerLink]="['/gallery', album.id]">
              View album
            </a>
          </div>
        </article>
      }
    </div>
  }
</section>
